<!--Wizard Step 0-->
<div ng-show="wizardStep == 0">
    <div class="modal-header">
        <h4 class="modal-title">Создание Юридического лица</h4>
    </div>
    <div class="modal-body unspaced_modal-body">
        <!-- Company Common Data -->
        <form name="companyCommonDataForm" role="form">
            <ul class="clear_list vertical_form_block">
                <li><h4>Юридическое лицо</h4></li>
                <li class="input-group">
                    <label for="companyData-name" class="input-group-addon">Полное наименование</label>
                    <input id="companyData-name" type="text"
                           ng-model="companyData.name" class="form-control"/>
                </li>
                <li class="input-group">
                    <label for="companyData-short" class="input-group-addon" title="Обязательное поле">
                        Краткое наименование<span class="required_mark">*</span>
                    </label>
                    <input id="companyData-short" type="text"
                           ng-model="companyData.short" class="form-control"/>
                </li>
                <li class="input-group">
                    <label for="companyData-property" class="input-group-addon">
                        Вид собственности
                    </label>
                    <input id="companyData-property" type="text"
                           ng-model="companyData.property" class="form-control"/>
                </li>
                <li class="input-group">
                    <label for="companyData-inn" class="input-group-addon" title="Обязательное поле">
                        ИНН<span class="required_mark">*</span>
                    </label>
                    <input id="companyData-inn"
                           type="text"
                           name="innInput"
                           ng-model="companyData.inn"
                           class="form-control"
                           minlength="10"
                           ng-minlength="10"
                           maxlength="12"
                           ng-maxlength="12"
                           ng-pattern="/\d{10,12}/"
                           pattern="/\d{10,12}/"
                           required/>
                </li>
                <li>
                    <div class="alert alert-danger fade_anim"
                         ng-show="companyCommonDataForm.innInput.$dirty && companyCommonDataForm.innInput.$invalid">
                        ИНН юридического лица - 10 цифр, Индивидуального предпринимателя - 12 цифр
                    </div>
                </li>
                <li class="input-group">
                    <label for="companyData-ogrn" class="input-group-addon">ОГРН</label>
                    <input id="companyData-ogrn"
                           type="text"
                           name="ogrnInput"
                           ng-model="companyData.ogrn"
                           class="form-control"
                           minlength="13"
                           ng-minlength="13"
                           maxlength="13"
                           ng-maxlength="13"
                           pattern="/\d{13}/"
                           ng-pattern="/\d{13}/"/>
                </li>
                <li>
                    <div class="alert alert-danger fade_anim"
                         ng-show="companyCommonDataForm.ogrnInput.$dirty && companyCommonDataForm.ogrnInput.$invalid">
                        ОГРН должен состоять из 13 цифр
                    </div>
                </li>
                <li class="input-group">
                    <label for="companyData-kpp" class="input-group-addon">КПП</label>
                    <input id="companyData-kpp" type="text"
                           ng-model="companyData.kpp" class="form-control"/>
                </li>
                <li>
                    <span class="required_mark">*</span> - Обязательные поля
                </li>
            </ul>
        </form>
        <!--END Company Common Data-->
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-success"
                ng-disabled="companyCommonDataForm.$invalid || isAjaxLoading"
                ng-click="nextStep()" ajax-disabler="isAjaxLoading">
            Далее <i class="glyphicon glyphicon-arrow-right"> </i>
        </button>
        <button type="button" class="btn btn-warning pull_left" ng-click="close()()" ng-show="closable">
            Закрыть
        </button>
    </div>
</div>
<!--END Wizard Step 0-->

<!--Wizard Step 1-->
<div ng-show="wizardStep == 1">
    <div class="modal-header">
        <h4 class="modal-title">Создание Юридического лица - Контакты</h4>
    </div>
    <div class="modal-body unspaced_modal-body">
        <!--Phones Data-->
        <add-phone-form model="companyData.contacts.phones"></add-phone-form>
        <!--END Phones Data-->

        <!--Address Data-->
        <add-address-form model="companyData.contacts.addresses"></add-address-form>
        <!--END Address Data-->

        <!--Email Data-->
        <add-email-form model="companyData.contacts.emails"></add-email-form>
        <!--END Email Data-->

        <!--Sites Data-->
        <add-site-form model="companyData.contacts.sites"></add-site-form>
        <!--END Sites Data-->
        <ul class="clear_list">
            <li>
                <span class="required_mark">*</span> - Обязательные поля
            </li>
        </ul>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default pull_left" ng-click="prevStep()">
            <i class="glyphicon glyphicon-arrow-left"> </i> Назад
        </button>
        <button type="button" class="btn btn-default" ng-click="nextStep()">Пропустить</button>
        <button type="button" class="btn btn-success"
                ng-disabled="isAjaxLoading"
                ng-click="nextStep()" ajax-disabler="isAjaxLoading">
            Далее <i class="glyphicon glyphicon-arrow-right"> </i>
        </button>
    </div>
</div>
<!--END Wizard Step 1-->

<!--Wizard Step 2-->
<div ng-show="wizardStep == 2">
    <div class="modal-header">
        <h4 class="modal-title">Создание Юридического лица - Дополнительные данные</h4>
    </div>
    <div class="modal-body unspaced_modal-body">
        <!--Company details-->
        <form name="companyDetailsDataForm" role="form">
            <ul class="clear_list vertical_form_block">
                <li class="input-group">
                    <label for="companyData-forming_method" class="input-group-addon">Способ образования</label>
                    <input id="companyData-forming_method"
                           type="text"
                           ng-model="companyData.forming_method"
                           class="form-control"/>
                </li>
                <li class="input-group">
                    <label for="companyData-capital" class="input-group-addon">
                        Размер уставного капитала
                    </label>
                    <input id="companyData-capital" type="text"
                           ng-model="companyData.capital" class="form-control"/>
                </li>
            </ul>
        </form>
        <!--END Company details-->
        <!--Okved Data-->
        <add-okved-form model="companyData.okved"></add-okved-form>
        <!--END Okved Data-->
        <ul class="clear_list">
            <li>
                <span class="required_mark">*</span> - Обязательные поля
            </li>
        </ul>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default pull_left" ng-click="prevStep()">
            <i class="glyphicon glyphicon-arrow-left"> </i> Назад
        </button>
        <button type="button" class="btn btn-default" ng-click="nextStep()">Пропустить</button>
        <button type="button" class="btn btn-success"
                ng-disabled="companyDetailsDataForm.$invalid || isAjaxLoading"
                ng-click="nextStep()" ajax-disabler="isAjaxLoading">
            Далее <i class="glyphicon glyphicon-arrow-right"> </i>
        </button>
    </div>
</div>
<!--END Wizard Step 2-->

<!--Wizard Step 3-->
<div ng-show="wizardStep == 3">
    <div class="modal-header">
        <h4 class="modal-title">Создание Юридического лица - Основатели и учередители</h4>
    </div>
    <div class="modal-body unspaced_modal-body">
        <!--Founders Data-->
        <add-founder-form model="companyData.founders"></add-founder-form>
        <!--END Founders Data-->

        <!--Authorized persons-->
        <add-authorized-person-form model="companyData.authorized_persons"></add-authorized-person-form>
        <!--END Authorized persons-->
        <ul class="clear_list">
            <li>
                <span class="required_mark">*</span> - Обязательные поля
            </li>
        </ul>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default pull_left" ng-click="prevStep()">
            <i class="glyphicon glyphicon-arrow-left"> </i> Назад
        </button>
        <button type="button" class="btn btn-default" ng-click="nextStep()">Пропустить</button>
        <button type="button" class="btn btn-success"
                ng-disabled="isAjaxLoading"
                ng-click="nextStep()" ajax-disabler="isAjaxLoading">
            Далее <i class="glyphicon glyphicon-arrow-right"> </i>
        </button>
    </div>
</div>
<!--END Wizard Step 3-->

<!--Wizard Step 4-->
<div ng-show="wizardStep == 4">
    <div class="modal-header">
        <h4 class="modal-title">Создание Юридического лица - ПФР и ФМС</h4>
    </div>
    <div class="modal-body unspaced_modal-body">
        <!--PFR-->
        <form name="companyPfrDataForm" role="form">
            <ul class="clear_list vertical_form_block bordered_top_form">
                <li class="form_header"><h4>ПФР</h4></li>
                <li class="input-group">
                    <label for="companyData-pfr-insurance" class="input-group-addon">
                        Номер страхования в ПФР
                    </label>
                    <input id="companyData-pfr-insurance"
                           type="text"
                           ng-model="companyData.pfr.insurance"
                           class="form-control"/>
                </li>
                <li class="input-group">
                    <label for="companyData-pfr-number" class="input-group-addon">Номер ПФР</label>
                    <input id="companyData-pfr-number" type="text"
                           ng-model="companyData.pfr.number" class="form-control"/>
                </li>
                <li class="input-group">
                    <label for="companyData-pfr-date_registration" class="input-group-addon">
                        Дата постановки на учет ПФР
                    </label>
                    <input id="companyData-pfr-date_registration"
                           class="form-control"
                           type="text"
                           datepicker-popup="dd.MM.yyyy"
                           is-open="openedPfrRegistrationDate"
                           min="'1900-01-01'"
                           max="today"
                           datepicker-options="dateOptions"
                           date-disabled="disabled(date,mode)"
                           ng-model="companyData.pfr.date_registration"/>
                <span class="input-group-btn">
                    <button type="button" class="btn btn-info" ng-click="openDatePopup('openedPfrRegistrationDate')">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </button>
                </span>
                </li>
            </ul>
        </form>
        <!--END PFR-->

        <!--FMS-->
        <form name="companyFmsDataForm" role="form">
            <ul class="clear_list vertical_form_block bordered_top_form">
                <li class="form_header"><h4>ФМС</h4></li>
                <li class="input-group">
                    <label for="companyData-fms-insurance" class="input-group-addon">
                        Номер страхования в ФМС
                    </label>
                    <input id="companyData-fms-insurance" type="text"
                           ng-model="companyData.fms.insurance" class="form-control"/>
                </li>
                <li class="input-group">
                    <label for="companyData-fms-number" class="input-group-addon">Номер ФМС</label>
                    <input id="companyData-fms-number" type="text"
                           ng-model="companyData.fms.number" class="form-control"/>
                </li>
                <li class="input-group">
                    <label for="companyData-fms-date_registration" class="input-group-addon">
                        Дата постановки на учет ФМС
                    </label>
                    <input id="companyData-fms-date_registration"
                           class="form-control"
                           type="text"
                           datepicker-popup="dd.MM.yyyy"
                           is-open="openedFmsRegistrationDate"
                           min="'1900-01-01'"
                           max="today"
                           datepicker-options="dateOptions"
                           date-disabled="disabled(date,mode)"
                           ng-model="companyData.fms.date_registration"/>
                <span class="input-group-btn">
                    <button type="button" class="btn btn-info" ng-click="openDatePopup('openedFmsRegistrationDate')">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </button>
                </span>
                </li>
            </ul>
        </form>
        <!--END FMS-->
        <ul class="clear_list">
            <li>
                <span class="required_mark">*</span> - Обязательные поля
            </li>
        </ul>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default pull_left" ng-click="prevStep()">
            <i class="glyphicon glyphicon-arrow-left"> </i> Назад
        </button>
        <button type="button" class="btn btn-default" ng-click="nextStep()">Пропустить</button>
        <button type="button" class="btn btn-success"
                ng-disabled="companyPfrDataForm.$invalid || companyFmsDataForm.$invalid || isAjaxLoading"
                ng-click="nextStep()" ajax-disabler="isAjaxLoading">
            Далее <i class="glyphicon glyphicon-arrow-right"> </i>
        </button>
    </div>
</div>
<!--END Wizard Step 4-->

<!--Wizard Step 5-->
<div ng-show="wizardStep == 5">
    <div class="modal-header">
        <h4 class="modal-title">Создание Юридического лица - Лицензии и заявители</h4>
    </div>
    <div class="modal-body unspaced_modal-body">
        <!--Licenses-->
        <add-license-form model="companyData.licenses"></add-license-form>
        <!--END Licenses-->

        <!--Applicants-->
        <add-applicants-form model="companyData.applicants"></add-applicants-form>
        <!--END Applicants-->

        <!--Bank Accounts-->
        <add-bank-account-form model="companyData.accounts"></add-bank-account-form>
        <!--END Bank Accounts-->
        <ul class="clear_list">
            <li>
                <span class="required_mark">*</span> - Обязательные поля
            </li>
        </ul>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default pull_left" ng-click="prevStep()">
            <i class="glyphicon glyphicon-arrow-left"> </i> Назад
        </button>
        <button type="button" class="btn btn-default" ng-click="nextStep()">Пропустить</button>
        <button type="button" class="btn btn-success"
                ng-disabled="companyBankAccountsDataForm.$invalid || isAjaxLoading"
                ng-click="nextStep()" ajax-disabler="isAjaxLoading">
            Далее <i class="glyphicon glyphicon-arrow-right"> </i>
        </button>
    </div>
</div>
<!--END Wizard Step 5-->

<!--Wizard Step 6-->
<div ng-show="wizardStep == 6">
<div class="modal-header">
    <h4 class="modal-title">Создание Юридического лица - Налоги</h4>
</div>
<div class="modal-body unspaced_modal-body">
    <!--Tax details-->
    <form name="companyTaxDataForm" role="form">
        <ul class="clear_list vertical_form_block">
            <li class="form_header"><h4>Налоги</h4></li>
            <li class="input-group">
                <label for="companyData-tax-agency_number" class="input-group-addon">Номер налоговой</label>
                <input id="companyData-tax-agency_number" type="text"
                       ng-model="companyData.tax.agency_number" class="form-control"/>
            </li>
            <li class="input-group">
                <label for="companyData-tax-date_accounting" class="input-group-addon">
                    Дата постановки на учёт
                </label>
                <input id="companyData-tax-date_accounting"
                       class="form-control"
                       type="text"
                       datepicker-popup="dd.MM.yyyy"
                       is-open="openedAccountingDate"
                       min="'1900-01-01'"
                       max="today"
                       datepicker-options="dateOptions"
                       date-disabled="disabled(date,mode)"
                       ng-model="companyData.tax.date_accounting"/>
                <span class="input-group-btn">
                    <button type="button" class="btn btn-info" ng-click="openDatePopup('openedAccountingDate')">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </button>
                </span>
            </li>
            <li class="input-group">
                <label for="companyData-tax-date_registration" class="input-group-addon">Дата регистрации</label>
                <input id="companyData-tax-date_registration"
                       class="form-control"
                       type="text"
                       datepicker-popup="dd.MM.yyyy"
                       is-open="openedRegistrationDate"
                       min="'1900-01-01'"
                       max="today"
                       datepicker-options="dateOptions"
                       date-disabled="disabled(date,mode)"
                       ng-model="companyData.tax.date_registration"/>
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-info" ng-click="openDatePopup('openedRegistrationDate')">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </button>
                    </span>
            </li>
            <li class="input-group">
                <label for="companyData-tax-registration_agency_number" class="input-group-addon">
                    Номер налоговой, где проходила регистрация
                </label>
                <input id="companyData-tax-registration_agency_number" type="text"
                       ng-model="companyData.tax.registration_agency_number" class="form-control"/>
            </li>
            <li class="input-group">
                <label for="companyData-tax-system" class="input-group-addon">
                    Вид системы налогового учета
                </label>
                <input id="companyData-tax-system" type="text"
                       ng-model="companyData.tax.system" class="form-control"
                       readonly/>
                <span class="input-group-btn">
                    <button class="btn btn-info" ng-click="openCatalog()" disabled>
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </span>
            </li>
            <li class="input-group">
                <label for="companyData-tax-rate" class="input-group-addon">
                    Процентная ставка налога</label>
                <input id="companyData-tax-rate" type="number"
                       ng-model="companyData.tax.rate" class="form-control"/>
            </li>
            <li class="input-group">
                <label for="companyData-tax-linksEgrulEgruip" class="input-group-addon">
                    Ссылка на файлы выписки из ЕГРЮЛ/ЕГРЮИП
                </label>
                <input id="companyData-tax-linksEgrulEgruip" type="text"
                       ng-model="companyData.tax.linksEgrulEgruip" class="form-control"/>
            </li>
        </ul>
    </form>
    <!-- END Tax details -->

    <!--Other Company Data-->
    <form name="companyOtherDataForm" role="form">
        <ul class="clear_list vertical_form_block bordered_top_form">
            <li class="form_header"><h4>Остальные учредительные документы</h4></li>
            <li class="input-group">
                <label for="companyData-misc-other-charterFilesLink" class="input-group-addon">
                    Ссылка на файлы устава
                </label>
                <input id="companyData-misc-other-charterFilesLink" type="text"
                       ng-model="companyData.misc.other.charterFilesLink" class="form-control"
                       readonly/>
                <span class="input-group-btn">
                    <button class="btn btn-info" ng-click="openCatalog()" disabled>
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </span>
            </li>
            <li class="input-group">
                <label for="companyData-misc-other-companyFaceDecisionDocName" class="input-group-addon">
                    Наименование документа с решением о создании юр лица
                </label>
                <input id="companyData-misc-other-companyFaceDecisionDocName" type="text"
                       ng-model="companyData.misc.other.companyFaceDecisionDocName" class="form-control"/>
            </li>
            <li class="input-group">
                <label for="companyData-misc-other-documentNumber" class="input-group-addon">Номер документа</label>
                <input id="companyData-misc-other-documentNumber" type="text"
                       ng-model="companyData.misc.other.documentNumber" class="form-control"/>
            </li>
            <li class="input-group">
                <label for="companyData-misc-other-documentDate" class="input-group-addon">Дата документа</label>
                <input id="companyData-misc-other-documentDate"
                       class="form-control"
                       type="text"
                       datepicker-popup="dd.MM.yyyy"
                       is-open="openedDocumentDate"
                       min="'1900-01-01'"
                       max="today"
                       datepicker-options="dateOptions"
                       date-disabled="disabled(date,mode)"
                       ng-model="companyData.misc.other.documentDate"/>
                <span class="input-group-btn">
                    <button type="button" class="btn btn-info" ng-click="openDatePopup('openedDocumentDate')">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </button>
                </span>
            </li>
            <li class="input-group">
                <label for="companyData-misc-other-doumentScansLink" class="input-group-addon">
                    Ссылки на файлы сканов документа
                </label>
                <input id="companyData-misc-other-doumentScansLink" type="text"
                       ng-model="companyData.misc.other.doumentScansLink" class="form-control"/>
            </li>
        </ul>
    </form>
    <!--END Other Company Data-->

    <!--Check Data-->
    <form name="companyCheckDataForm" role="form">
        <ul class="clear_list vertical_form_block bordered_top_form">
            <li class="form_header"><h4>Для счета</h4></li>
            <li class="input-group">
                <label for="companyData-misc-number" class="input-group-addon">
                    Ссылки на номер счета
                </label>
                <input id="companyData-misc-number" type="text"
                       ng-model="companyData.misc.checkNumber" class="form-control"
                       readonly/>
                <span class="input-group-btn">
                    <button class="btn btn-info" ng-click="openCatalog()" disabled>
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </span>
            </li>
            <li class="input-group">
                <label for="companyData-misc-chiefAccountant" class="input-group-addon">
                    Ссылка на главного бухгалтера
                </label>
                <input id="companyData-misc-chiefAccountant" type="text"
                       ng-model="companyData.misc.chiefAccountant" class="form-control"
                       readonly/>
                <span class="input-group-btn">
                    <button class="btn btn-info" ng-click="openCatalog()" disabled>
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </span>
            </li>

        </ul>
    </form>
    <!-- END Check Data -->

    <!--Persons Data-->
    <add-persons-form model="companyData.persons"></add-persons-form>
    <!--END Persons Data-->

    <ul class="clear_list">
        <li>
            <span class="required_mark">*</span> - Обязательные поля
        </li>
    </ul>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default pull_left" ng-click="prevStep()">
        <i class="glyphicon glyphicon-arrow-left"> </i> Назад
    </button>
    <button type="button" class="btn btn-success"
            ng-disabled="companyTaxDataForm.$invalid || companyOtherDataForm.$invalid ||  companyPersonsDataForm.$invalid || isAjaxLoading"
            ng-click="saveData()" ajax-disabler="isAjaxLoading"> Завершить
    </button>
</div>
</div>
<!--END Wizard Step 6-->